$ docker run -ti --name="wordpress" ubuntu:14.04

# =================================== this works ===============================================

debconf-set-selections <<< 'mysql-server mysql-server/root_password password qweQWE123'
debconf-set-selections <<< 'mysql-server mysql-server/root_password_again password qweQWE123'
apt-get -y install wget apache2 mysql-server libapache2-mod-auth-mysql php5-mysql php5 libapache2-mod-php5
mysql_install_db

# wordpress-cli
mkdir -p /install/wordpress
cd /install/wordpress
wget https://raw.github.com/wp-cli/builds/gh-pages/phar/wp-cli.phar
chmod +x wp-cli.phar
mv wp-cli.phar /usr/local/bin/wp

# wordpress-db
mysql -u root --password=qweQWE123 <<-EOFMYSQL
CREATE DATABASE wordpress;
EOFMYSQL

# wordpress
mkdir /var/www/html/wordpress
cd /var/www/html/wordpress
wp core download --allow-root
wp core config --allow-root --dbname=wordpress --dbuser=root --dbpass=qweQWE123
wp core install --url=http://example.com --title=Example --admin_user=admin --admin_password=qweQWE123 --admin_email=qweQWE123@qweQWE123.com --allow-root

# =================================== this works ===============================================









#noooo! php wp-cli.phar core install --url=http://example.com --title=Example --admin_user=qweQWE123 --admin_password=qweQWE123 --admin_email=qweQWE123@qweQWE123.com --path=/var/www --allow-root

# things should be installed under /var/www/html


sudo apt-get remove --purge mysql-server mysql-client mysql-common
sudo apt-get autoremove
sudo apt-get autoclean
